'use strict';

exports.__esModule = true;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var ProgressDetail = function ProgressDetail(props) {
  var progressPct = props.progressPct,
      children = props.children;

  var adjustmentPadding = 24; // Half of the min-width of a ProgressStep
  var arrowLeft = 0;
  var adjustment = 0;
  /*
    Adjustment needs to be tailored depending on if we're at the beginning of the progress or the end. In the middle you don't want any adjustment, at the outer edges you want more. At all times we're moving the arrow towards the center of the bar by adding or removing padding.
     Using CSS calc allows us to keep the position dynamic by using percentage and an adjustment based on the size of the steps.
  */
  if (progressPct > 50) {
    adjustment = adjustmentPadding * ((progressPct - 50) / 50);
    arrowLeft = 'calc(' + progressPct + '% - ' + adjustment + 'px';
  } else {
    adjustment = adjustmentPadding * ((50 - progressPct) / 50);
    arrowLeft = 'calc(' + progressPct + '% + ' + adjustment + 'px';
  }

  return _react2['default'].createElement(
    'div',
    { className: 'PnnlProgressDetail' },
    _react2['default'].createElement(
      'div',
      { className: 'PnnlProgressDetailContainer' },
      _react2['default'].createElement('div', { className: 'PnnlProgressDetailArrow', style: { left: arrowLeft } }),
      children
    )
  );
};

ProgressDetail.propTypes = {
  /**
   * The percentage of the overall process to align the arrow with. Should be calculated against the total number of `ProgressStep` components, with a zero-based index for counting steps. So if the detail is for step 1, that's 0%. Step 2 of 4 would actually be 33%.
   */
  progressPct: _propTypes2['default'].number.isRequired
};

exports['default'] = ProgressDetail;
module.exports = exports['default'];