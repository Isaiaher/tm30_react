{"ast":null,"code":"import React, { Component } from \"react\";\nimport { Element } from \"react-faux-dom\";\nimport * as d3 from \"d3\";\nimport data from \"./data\";\n\nclass LCSd3 extends Component {\n  constructor(props) {\n    super(props);\n    var lcs = this.props.data;\n    this.state = {\n      data: [{\n        huebin: 1,\n        value: lcs[0]\n      }, {\n        huebin: 2,\n        value: lcs[1]\n      }, {\n        huebin: 3,\n        value: lcs[2]\n      }, {\n        huebin: 4,\n        value: lcs[3]\n      }, {\n        huebin: 5,\n        value: lcs[4]\n      }, {\n        huebin: 6,\n        value: lcs[5]\n      }, {\n        huebin: 7,\n        value: lcs[6]\n      }, {\n        huebin: 8,\n        value: lcs[7]\n      }, {\n        huebin: 9,\n        value: lcs[8]\n      }, {\n        huebin: 10,\n        value: lcs[9]\n      }, {\n        huebin: 11,\n        value: lcs[10]\n      }, {\n        huebin: 12,\n        value: lcs[11]\n      }, {\n        huebin: 13,\n        value: lcs[12]\n      }, {\n        huebin: 14,\n        value: lcs[13]\n      }, {\n        huebin: 15,\n        value: lcs[14]\n      }, {\n        huebin: 16,\n        value: lcs[15]\n      }]\n    }; //this.data = data;\n  }\n\n  plot(chart, width, height) {\n    // create scales!\n    var bar_colors = [\"#b45c60\", \"#cb7761\", \"#cb824b\", \"#d7ad67\", \"#ac9a5d\", \"#919E60\", \"#678B5F\", \"#62B08F\", \"#7CBABA\", \"#2C797D\", \"#54778C\", \"#7189B1\", \"#988CA9\", \"#735876\", \"#8F6682\", \"#B97B8E\"];\n    const xScale = d3.scaleBand().domain(this.state.data.map(d => d.huebin)).range([0, width]);\n    const yScale = d3.scaleLinear().domain([d3.min(this.state.data, d => d.value), d3.max(this.state.data, d => d.value)]).range([height, 0]);\n    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n    chart.selectAll(\".bar\").data(this.state.data).enter().append(\"rect\").classed(\"bar\", true).attr(\"x\", d => xScale(d.huebin)).attr(\"y\", d => yScale(d.value)).attr(\"height\", d => height - yScale(d.value)).attr(\"width\", d => xScale.bandwidth()).style(\"fill\", (d, i) => bar_colors[i]);\n    chart.selectAll(\".bar-label\").data(this.state.data).enter().append(\"text\").classed(\"bar-label\", true).attr(\"x\", d => xScale(d.huebin) + xScale.bandwidth() / 2).attr(\"dx\", 0).attr(\"y\", d => yScale(d.value)).attr(\"dy\", -6).text(d => d.value);\n    const xAxis = d3.axisBottom().scale(xScale);\n    chart.append(\"g\").classed(\"x axis\", true).attr(\"transform\", \"translate(0,\".concat(height / 2, \")\")).call(xAxis);\n    const yAxis = d3.axisLeft().ticks(5).scale(yScale);\n    chart.append(\"g\").classed(\"y axis\", true).attr(\"transform\", \"translate(0,0)\").call(yAxis);\n    chart.select(\".x.axis\").append(\"text\").attr(\"x\", width / 2).attr(\"y\", 60).attr(\"fill\", \"#000\").style(\"font-size\", \"20px\").style(\"text-anchor\", \"middle\").text(\"Hue-Angle Bin (j)\");\n    chart.select(\".y.axis\").append(\"text\").attr(\"x\", 0).attr(\"y\", 0).attr(\"transform\", \"translate(-50, \".concat(height, \") rotate(-90)\")).attr(\"fill\", \"#000\").style(\"font-size\", \"20px\").style(\"text-anchor\", \"middle\").text(\"Local Chroma Shift (Rf,hj)\");\n    const yGridlines = d3.axisLeft().scale(yScale).ticks(5).tickSize(-width, 0, 0).tickFormat(\"\");\n    chart.append(\"g\").call(yGridlines).classed(\"gridline\", true);\n  }\n\n  drawChart() {\n    const width = 800;\n    const height = 450;\n    const el = new Element(\"div\");\n    const svg = d3.select(el).append(\"svg\").attr(\"id\", \"chart\").attr(\"width\", width).attr(\"height\", height);\n    const margin = {\n      top: 60,\n      bottom: 100,\n      left: 80,\n      right: 40\n    };\n    const chart = svg.append(\"g\").classed(\"display\", true).attr(\"transform\", \"translate(\".concat(margin.left, \",\").concat(margin.top, \")\"));\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    this.plot(chart, chartWidth, chartHeight);\n    return el.toReact();\n  }\n\n  render() {\n    return this.drawChart();\n  }\n\n}\n\nexport default LCSd3;","map":{"version":3,"sources":["/Users/sche566/OneDrive - PNNL/Code/ies_tm30_web_app/React App/src/components/pages/Report/LCSd3.jsx"],"names":["React","Component","Element","d3","data","LCSd3","constructor","props","lcs","state","huebin","value","plot","chart","width","height","bar_colors","xScale","scaleBand","domain","map","d","range","yScale","scaleLinear","min","max","colorScale","scaleOrdinal","schemeCategory10","selectAll","enter","append","classed","attr","bandwidth","style","i","text","xAxis","axisBottom","scale","call","yAxis","axisLeft","ticks","select","yGridlines","tickSize","tickFormat","drawChart","el","svg","margin","top","bottom","left","right","chartWidth","chartHeight","toReact","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Element } from \"react-faux-dom\";\nimport * as d3 from \"d3\";\nimport data from \"./data\";\n\nclass LCSd3 extends Component {\n  constructor(props) {\n    super(props);\n    var lcs = this.props.data;\n    this.state = {\n      data: [\n        {\n          huebin: 1,\n          value: lcs[0]\n        },\n        {\n          huebin: 2,\n          value: lcs[1]\n        },\n        {\n          huebin: 3,\n          value: lcs[2]\n        },\n        {\n          huebin: 4,\n          value: lcs[3]\n        },\n        {\n          huebin: 5,\n          value: lcs[4]\n        },\n        {\n          huebin: 6,\n          value: lcs[5]\n        },\n        {\n          huebin: 7,\n          value: lcs[6]\n        },\n        {\n          huebin: 8,\n          value: lcs[7]\n        },\n        {\n          huebin: 9,\n          value: lcs[8]\n        },\n        {\n          huebin: 10,\n          value: lcs[9]\n        },\n        {\n          huebin: 11,\n          value: lcs[10]\n        },\n        {\n          huebin: 12,\n          value: lcs[11]\n        },\n        {\n          huebin: 13,\n          value: lcs[12]\n        },\n        {\n          huebin: 14,\n          value: lcs[13]\n        },\n        {\n          huebin: 15,\n          value: lcs[14]\n        },\n        {\n          huebin: 16,\n          value: lcs[15]\n        }\n      ]\n    };\n\n    //this.data = data;\n  }\n\n  plot(chart, width, height) {\n    // create scales!\n    var bar_colors = [\n      \"#b45c60\",\n      \"#cb7761\",\n      \"#cb824b\",\n      \"#d7ad67\",\n      \"#ac9a5d\",\n      \"#919E60\",\n      \"#678B5F\",\n      \"#62B08F\",\n      \"#7CBABA\",\n      \"#2C797D\",\n      \"#54778C\",\n      \"#7189B1\",\n      \"#988CA9\",\n      \"#735876\",\n      \"#8F6682\",\n      \"#B97B8E\"\n    ];\n    const xScale = d3\n      .scaleBand()\n      .domain(this.state.data.map(d => d.huebin))\n      .range([0, width]);\n    const yScale = d3\n      .scaleLinear()\n      .domain([\n        d3.min(this.state.data, d => d.value),\n        d3.max(this.state.data, d => d.value)\n      ])\n      .range([height, 0]);\n\n    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n\n    chart\n      .selectAll(\".bar\")\n      .data(this.state.data)\n      .enter()\n      .append(\"rect\")\n      .classed(\"bar\", true)\n      .attr(\"x\", d => xScale(d.huebin))\n      .attr(\"y\", d => yScale(d.value))\n      .attr(\"height\", d => height - yScale(d.value))\n      .attr(\"width\", d => xScale.bandwidth())\n      .style(\"fill\", (d, i) => bar_colors[i]);\n\n    chart\n      .selectAll(\".bar-label\")\n      .data(this.state.data)\n      .enter()\n      .append(\"text\")\n      .classed(\"bar-label\", true)\n      .attr(\"x\", d => xScale(d.huebin) + xScale.bandwidth() / 2)\n      .attr(\"dx\", 0)\n      .attr(\"y\", d => yScale(d.value))\n      .attr(\"dy\", -6)\n      .text(d => d.value);\n\n    const xAxis = d3.axisBottom().scale(xScale);\n\n    chart\n      .append(\"g\")\n      .classed(\"x axis\", true)\n      .attr(\"transform\", `translate(0,${height / 2})`)\n      .call(xAxis);\n\n    const yAxis = d3\n      .axisLeft()\n      .ticks(5)\n      .scale(yScale);\n\n    chart\n      .append(\"g\")\n      .classed(\"y axis\", true)\n      .attr(\"transform\", \"translate(0,0)\")\n      .call(yAxis);\n\n    chart\n      .select(\".x.axis\")\n      .append(\"text\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", 60)\n      .attr(\"fill\", \"#000\")\n      .style(\"font-size\", \"20px\")\n      .style(\"text-anchor\", \"middle\")\n      .text(\"Hue-Angle Bin (j)\");\n\n    chart\n      .select(\".y.axis\")\n      .append(\"text\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"transform\", `translate(-50, ${height}) rotate(-90)`)\n      .attr(\"fill\", \"#000\")\n      .style(\"font-size\", \"20px\")\n      .style(\"text-anchor\", \"middle\")\n      .text(\"Local Chroma Shift (Rf,hj)\");\n\n    const yGridlines = d3\n      .axisLeft()\n      .scale(yScale)\n      .ticks(5)\n      .tickSize(-width, 0, 0)\n      .tickFormat(\"\");\n\n    chart\n      .append(\"g\")\n      .call(yGridlines)\n      .classed(\"gridline\", true);\n  }\n\n  drawChart() {\n    const width = 800;\n    const height = 450;\n\n    const el = new Element(\"div\");\n    const svg = d3\n      .select(el)\n      .append(\"svg\")\n      .attr(\"id\", \"chart\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    const margin = {\n      top: 60,\n      bottom: 100,\n      left: 80,\n      right: 40\n    };\n\n    const chart = svg\n      .append(\"g\")\n      .classed(\"display\", true)\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    this.plot(chart, chartWidth, chartHeight);\n\n    return el.toReact();\n  }\n\n  render() {\n    return this.drawChart();\n  }\n}\n\nexport default LCSd3;\n"]},"metadata":{},"sourceType":"module"}