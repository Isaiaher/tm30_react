{"ast":null,"code":"import React, { Component } from \"react\";\nimport { Element } from \"react-faux-dom\";\nimport * as d3 from \"d3\";\nimport data from \"./data\";\n\nclass LCSd3 extends Component {\n  constructor(props) {\n    super(props);\n    var lcs = this.props.data;\n    this.data = [[\"Huebin-Angle\", \"Local-Chroma Shift\", {\n      role: \"style\"\n    }, {\n      sourceColumn: 0,\n      role: \"annotation\",\n      type: \"string\",\n      calc: \"stringify\"\n    }], [\"1\", lcs[0], \"color: #b45c60\", null], [\"2\", lcs[1], \"color: #cb7761\", null], [\"3\", lcs[2], \"#cb824b\", null], [\"4\", lcs[3], \"#d7ad67\", null], [\"5\", lcs[4], \"#ac9a5d\", null], [\"6\", lcs[5], \"#919E60\", null], [\"7\", lcs[6], \"#678B5F\", null], [\"8\", lcs[7], \"#62B08F\", null], [\"9\", lcs[8], \"#7CBABA\", null], [\"10\", lcs[9], \"#2C797D\", null], [\"11\", lcs[10], \"#54778C\", null], [\"12\", lcs[11], \"#7189B1\", null], [\"13\", lcs[12], \"#988CA9\", null], [\"14\", lcs[13], \"#735876\", null], [\"15\", lcs[14], \"#8F6682\", null], [\"16\", lcs[15], \"#B97B8E\", null]];\n  }\n\n  plot(chart, width, height) {\n    // create scales!\n    const xScale = d3.scaleBand().domain(this.data.map(d => d.country)).range([0, width]);\n    const yScale = d3.scaleLinear().domain([0, d3.max(this.data, d => d.value)]).range([height, 0]);\n    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n    chart.selectAll(\".bar\").data(this.data).enter().append(\"rect\").classed(\"bar\", true).attr(\"x\", d => xScale(d.country)).attr(\"y\", d => yScale(d.value)).attr(\"height\", d => height - yScale(d.value)).attr(\"width\", d => xScale.bandwidth()).style(\"fill\", (d, i) => \"#0008ff\");\n    chart.selectAll(\".bar-label\").data(this.data).enter().append(\"text\").classed(\"bar-label\", true).attr(\"x\", d => xScale(d.country) + xScale.bandwidth() / 2).attr(\"dx\", 0).attr(\"y\", d => yScale(d.value)).attr(\"dy\", -6).text(d => d.value);\n    const xAxis = d3.axisBottom().scale(xScale);\n    chart.append(\"g\").classed(\"x axis\", true).attr(\"transform\", \"translate(0,\".concat(height, \")\")).call(xAxis);\n    const yAxis = d3.axisLeft().ticks(5).scale(yScale);\n    chart.append(\"g\").classed(\"y axis\", true).attr(\"transform\", \"translate(0,0)\").call(yAxis);\n    chart.select(\".x.axis\").append(\"text\").attr(\"x\", width / 2).attr(\"y\", 60).attr(\"fill\", \"#000\").style(\"font-size\", \"20px\").style(\"text-anchor\", \"middle\").text(\"Country\");\n    chart.select(\".y.axis\").append(\"text\").attr(\"x\", 0).attr(\"y\", 0).attr(\"transform\", \"translate(-50, \".concat(height / 2, \") rotate(-90)\")).attr(\"fill\", \"#000\").style(\"font-size\", \"20px\").style(\"text-anchor\", \"middle\").text(\"Local Chroma Shift\");\n    const yGridlines = d3.axisLeft().scale(yScale).ticks(5).tickSize(-width, 0, 0).tickFormat(\"\");\n    chart.append(\"g\").call(yGridlines).classed(\"gridline\", true);\n  }\n\n  drawChart() {\n    const width = 800;\n    const height = 450;\n    const el = new Element(\"div\");\n    const svg = d3.select(el).append(\"svg\").attr(\"id\", \"chart\").attr(\"width\", width).attr(\"height\", height);\n    const margin = {\n      top: 60,\n      bottom: 100,\n      left: 80,\n      right: 40\n    };\n    const chart = svg.append(\"g\").classed(\"display\", true).attr(\"transform\", \"translate(\".concat(margin.left, \",\").concat(margin.top, \")\"));\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    this.plot(chart, chartWidth, chartHeight);\n    return el.toReact();\n  }\n\n  render() {\n    return this.drawChart();\n  }\n\n}\n\nexport default LCSd3;","map":{"version":3,"sources":["/Users/sche566/OneDrive - PNNL/Code/ies_tm30_web_app/React App/src/components/pages/Report/LCSd3.jsx"],"names":["React","Component","Element","d3","data","LCSd3","constructor","props","lcs","role","sourceColumn","type","calc","plot","chart","width","height","xScale","scaleBand","domain","map","d","country","range","yScale","scaleLinear","max","value","colorScale","scaleOrdinal","schemeCategory10","selectAll","enter","append","classed","attr","bandwidth","style","i","text","xAxis","axisBottom","scale","call","yAxis","axisLeft","ticks","select","yGridlines","tickSize","tickFormat","drawChart","el","svg","margin","top","bottom","left","right","chartWidth","chartHeight","toReact","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Element } from \"react-faux-dom\";\nimport * as d3 from \"d3\";\nimport data from \"./data\";\n\nclass LCSd3 extends Component {\n  constructor(props) {\n    super(props);\n    var lcs = this.props.data;\n\n    this.data = [\n      [\n        \"Huebin-Angle\",\n        \"Local-Chroma Shift\",\n        { role: \"style\" },\n        {\n          sourceColumn: 0,\n          role: \"annotation\",\n          type: \"string\",\n          calc: \"stringify\"\n        }\n      ],\n      [\"1\", lcs[0], \"color: #b45c60\", null],\n      [\"2\", lcs[1], \"color: #cb7761\", null],\n      [\"3\", lcs[2], \"#cb824b\", null],\n      [\"4\", lcs[3], \"#d7ad67\", null],\n      [\"5\", lcs[4], \"#ac9a5d\", null],\n      [\"6\", lcs[5], \"#919E60\", null],\n      [\"7\", lcs[6], \"#678B5F\", null],\n      [\"8\", lcs[7], \"#62B08F\", null],\n      [\"9\", lcs[8], \"#7CBABA\", null],\n      [\"10\", lcs[9], \"#2C797D\", null],\n      [\"11\", lcs[10], \"#54778C\", null],\n      [\"12\", lcs[11], \"#7189B1\", null],\n      [\"13\", lcs[12], \"#988CA9\", null],\n      [\"14\", lcs[13], \"#735876\", null],\n      [\"15\", lcs[14], \"#8F6682\", null],\n      [\"16\", lcs[15], \"#B97B8E\", null]\n    ];\n  }\n\n  plot(chart, width, height) {\n    // create scales!\n    const xScale = d3\n      .scaleBand()\n      .domain(this.data.map(d => d.country))\n      .range([0, width]);\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, d3.max(this.data, d => d.value)])\n      .range([height, 0]);\n    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n\n    chart\n      .selectAll(\".bar\")\n      .data(this.data)\n      .enter()\n      .append(\"rect\")\n      .classed(\"bar\", true)\n      .attr(\"x\", d => xScale(d.country))\n      .attr(\"y\", d => yScale(d.value))\n      .attr(\"height\", d => height - yScale(d.value))\n      .attr(\"width\", d => xScale.bandwidth())\n      .style(\"fill\", (d, i) => \"#0008ff\");\n\n    chart\n      .selectAll(\".bar-label\")\n      .data(this.data)\n      .enter()\n      .append(\"text\")\n      .classed(\"bar-label\", true)\n      .attr(\"x\", d => xScale(d.country) + xScale.bandwidth() / 2)\n      .attr(\"dx\", 0)\n      .attr(\"y\", d => yScale(d.value))\n      .attr(\"dy\", -6)\n      .text(d => d.value);\n\n    const xAxis = d3.axisBottom().scale(xScale);\n\n    chart\n      .append(\"g\")\n      .classed(\"x axis\", true)\n      .attr(\"transform\", `translate(0,${height})`)\n      .call(xAxis);\n\n    const yAxis = d3\n      .axisLeft()\n      .ticks(5)\n      .scale(yScale);\n\n    chart\n      .append(\"g\")\n      .classed(\"y axis\", true)\n      .attr(\"transform\", \"translate(0,0)\")\n      .call(yAxis);\n\n    chart\n      .select(\".x.axis\")\n      .append(\"text\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", 60)\n      .attr(\"fill\", \"#000\")\n      .style(\"font-size\", \"20px\")\n      .style(\"text-anchor\", \"middle\")\n      .text(\"Country\");\n\n    chart\n      .select(\".y.axis\")\n      .append(\"text\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"transform\", `translate(-50, ${height / 2}) rotate(-90)`)\n      .attr(\"fill\", \"#000\")\n      .style(\"font-size\", \"20px\")\n      .style(\"text-anchor\", \"middle\")\n      .text(\"Local Chroma Shift\");\n\n    const yGridlines = d3\n      .axisLeft()\n      .scale(yScale)\n      .ticks(5)\n      .tickSize(-width, 0, 0)\n      .tickFormat(\"\");\n\n    chart\n      .append(\"g\")\n      .call(yGridlines)\n      .classed(\"gridline\", true);\n  }\n\n  drawChart() {\n    const width = 800;\n    const height = 450;\n\n    const el = new Element(\"div\");\n    const svg = d3\n      .select(el)\n      .append(\"svg\")\n      .attr(\"id\", \"chart\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    const margin = {\n      top: 60,\n      bottom: 100,\n      left: 80,\n      right: 40\n    };\n\n    const chart = svg\n      .append(\"g\")\n      .classed(\"display\", true)\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    this.plot(chart, chartWidth, chartHeight);\n\n    return el.toReact();\n  }\n\n  render() {\n    return this.drawChart();\n  }\n}\n\nexport default LCSd3;\n"]},"metadata":{},"sourceType":"module"}