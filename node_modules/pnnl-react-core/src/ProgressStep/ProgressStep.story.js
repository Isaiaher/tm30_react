/* eslint import/no-extraneous-dependencies: ["error", {"devDependencies": true}] */
import 'whatwg-fetch';
import React from 'react';
import { storiesOf } from '@storybook/react'; // eslint-disable-line
import { action } from '@storybook/addon-actions'; // eslint-disable-line
import { OverlayTrigger, Popover } from 'react-bootstrap';

import * as C from '../index';

storiesOf('ProgressStep', module)
  .add('default', () => (
    <C.ProgressStep key="1" onClick={action('clicked step 1')} label="Step 1" />
  ))
  .add('with custom avatar and icons', () => {
    const exampleAvatar = <C.Avatar className="silver text-gold" size="sm"><C.Icon icon="folder" /></C.Avatar>;
    return (
      <C.Progress activeStep={2}>
        <C.ProgressStep key="1" avatar={exampleAvatar} onClick={action('clicked step 1')} label="Testing Super Long Title 1" />
        <C.ProgressStep key="2" icon="plane" onClick={action('clicked step 2')} label="Testing 2" />
        <C.ProgressStep key="3" icon="approvals" onClick={action('clicked step 3')} label="Testing 3" />
        <C.ProgressStep key="4" icon="monitor" onClick={action('clicked step 4')} label="Testing 4" />
      </C.Progress>
    );
  })
  .add('with custom status', () => (
    <C.Progress activeStep={0}>
      <C.ProgressStep key="1" status="inactive" onClick={action('clicked step 1')} label="Testing Super Long Title 1" />
      <C.ProgressStep key="2" status="complete" onClick={action('clicked step 2')} label="Testing 2" />
      <C.ProgressStep key="3" status="warning" onClick={action('clicked step 3')} label="Testing 3" />
      <C.ProgressStep key="4" status="error" onClick={action('clicked step 4')} label="Testing 4" />
    </C.Progress>
  ))
  .add('with popover', () => {
    const examplePopover = (
      <Popover id="popover-contained" title="Error Explanation">
        <p>Describe the nature of the error.</p>
      </Popover>
    );
    return (
      <C.Progress activeStep={2}>
        <C.ProgressStep key="1" status="complete" label="Testing 1" />
        <C.ProgressStep key="2" status="complete" label="Testing 2" />
        <OverlayTrigger trigger="click" placement="bottom" overlay={examplePopover} rootClose>
          <C.ProgressStep label="Testing 3" status="error" />
        </OverlayTrigger>
        <C.ProgressStep key="4" label="Testing 4" />
      </C.Progress>
    );
  });
