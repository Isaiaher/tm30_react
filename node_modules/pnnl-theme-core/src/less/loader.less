@animation-duration: 350ms;
@animation-delay: calc(@animation-duration / 5);
@animation-curve-fast-out-slow-in: cubic-bezier(0.4, 0, 0.2, 1);
@animation-curve-linear-out-slow-in: cubic-bezier(0, 0, 0.2, 1);
@animation-curve-fast-out-linear-in: cubic-bezier(0.4, 0, 1, 1);
@animation-curve-default: @animation-curve-fast-out-slow-in;

@progress-height: calc(0.4 * 10px);
@progress-main-color: @copper;
@progress-secondary-color: @copper-50;
@progress-disabled-color: @platinum;
@circle-wrapper-width: 60;
@circle-radius: 25;
@scale-ratio: 1.25; //@circle-radius / 20;

.pnnl-loader {
    &.linear {
        background: @platinum-20;
        display: inline-block;
        height: @progress-height;
        overflow: hidden;
        position: relative;
        width: 100%;

        &.indeterminate .value {
            animation: linearIndeterminateBar 1s linear infinite;
            transform-origin: center center;
        }
    }

    & .value,
    & .buffer {
        bottom: 0;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: scaleX(0);
        transform-origin: left center;
        transition-duration: @animation-duration;
        transition-timing-function: @animation-curve-default;
    }

    & .value {
        background-color: @brand-primary;
    }

    &.white-path .value { background-color: white; }
    &.silver-path .value { background-color: @silver; }
    &.copper-path .value { background-color: @copper; }
    &.bronze-path .value { background-color: @bronze; }
    &.gold-path .value { background-color: @gold; }
    &.platinum-path .value { background-color: @platinum; }
    &.onyx-path .value { background-color: @onyx; }
    &.emerald-path .value { background-color: @emerald; }
    &.sapphire-path .value { background-color: @sapphire; }
    &.ruby-path .value { background-color: @ruby; }
    &.mercury-path .value { background-color: @mercury; }
    &.topaz-path .value { background-color: @topaz; }
    &.amethyst-path .value { background-color: @amethyst; }
    &.garnet-path .value { background-color: @garnet; }
    &.emsl-green-path .value { background-color: @emsl-green; }

    & .buffer {
        background-color: @progress-secondary-color;
    }

    &.white-path .buffer { background-color: @platinum-50 }
    &.silver-path .buffer { background-color: @silver-50; }
    &.copper-path .buffer { background-color: @copper-50; }
    &.bronze-path .buffer { background-color: @bronze-50; }
    &.gold-path .buffer { background-color: @gold-50; }
    &.platinum-path .buffer { background-color: @platinum-50; }
    &.onyx-path .buffer { background-color: @onyx-50; }
    &.emerald-path .buffer { background-color: @emerald-50; }
    &.sapphire-path .buffer { background-color: @sapphire-50; }
    &.ruby-path .buffer { background-color: @ruby-50; }
    &.mercury-path .buffer { background-color: @mercury-50; }
    &.topaz-path .buffer { background-color: @topaz-50; }
    &.amethyst-path .buffer { background-color: @amethyst-50; }
    &.garnet-path .buffer { background-color: @garnet-50; }
    &.emsl-green-path .buffer { background-color: @emsl-green-50; }

    &.circular {
        display: inline-block;
        height: 1em;
        position: relative;
        transform: rotate(-90deg);
        width: 1em;

    &.indeterminate {
        & .circle {
        animation: circularIndeterminateBarRotate 2s linear infinite;
        }

        & .path {
        animation: circularIndeterminateBarDash 1.5s ease-in-out infinite;
        stroke-dasharray: 1.25,250;
        stroke-dashoffset: 0;
        }

        &.multicolor .path {
        animation:
            circularIndeterminateBarDash 1.5s ease-in-out infinite,
            colors 3.0s ease-in-out infinite;
        }
    }
    }

    &.circular[disabled],
    &.linear[disabled] {
        & .value {
            background-color: @progress-disabled-color;
        }

        & .buffer {
            background-image:
            linear-gradient(to right, @progress-secondary-color, @progress-secondary-color),
            linear-gradient(to right, @progress-disabled-color, @progress-disabled-color);
        }
    }

    & .circle {
        height: 100%;
        width: 100%;
    }

    & .path {
        fill: none;
        stroke: @platinum;
        stroke-dasharray: 0, 250;
        stroke-dashoffset: 0;
        stroke-linecap: round;
        stroke-miterlimit: 20;
        stroke-width: 4;
        transition: stroke-dasharray @animation-duration @animation-curve-default;
    }

    &.white-path .path { stroke: white; }
    &.silver-path .path { stroke: @silver; }
    &.copper-path .path { stroke: @copper; }
    &.bronze-path .path { stroke: @bronze; }
    &.gold-path .path { stroke: @gold; }
    &.platinum-path .path { stroke: @platinum; }
    &.onyx-path .path { stroke: @onyx; }
    &.emerald-path .path { stroke: @emerald; }
    &.sapphire-path .path { stroke: @sapphire; }
    &.ruby-path .path { stroke: @ruby; }
    &.mercury-path .path { stroke: @mercury; }
    &.topaz-path .path { stroke: @topaz; }
    &.amethyst-path .path { stroke: @amethyst; }
    &.garnet-path .path { stroke: @garnet; }
    &.emsl-green-path .path { stroke: @emsl-green; }
}

@keyframes linearIndeterminateBar {
  0% {
    transform: translate(-50%) scaleX(0);
  }

  50% {
    transform: translate(-0%) scaleX(0.3);
  }

  100% {
    transform: translate(50%) scaleX(0);
  }
}

@keyframes circularIndeterminateBarRotate {
  100% {
    transform: rotate(1turn);
  }
}

@keyframes circularIndeterminateBarDash {
  0% {
    stroke-dasharray: 1.25,250;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 111.25,250;
    stroke-dashoffset: -43.75;
  }

  100% {
    stroke-dasharray: 111.25,250;
    stroke-dashoffset: -155;
  }
}

@keyframes colors {
  0% {
    stroke: @copper;
  }

  50% {
    stroke: @silver;
  }

  100% {
    stroke: @copper;
  }
}