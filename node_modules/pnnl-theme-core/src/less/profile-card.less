// PNNL Profile Card
// Author: Geoff Elliott

a.pnnl-profile-trigger {
    color: @topaz;
    white-space: nowrap;

    &.condensed img {
        margin: 0px auto;
    }

    &:hover {
        text-decoration: none;

        strong {
            text-decoration: underline;
        }
    }
}

.PnnlProfileCardContainer {
    position: relative;
}

.pnnl-profile-card {
    display: none;
}

@gradient-height: (@node-size-lg / 2) + @padding-base-vertical + @padding-small-vertical;

.pnnl-profile-card,
.PnnlProfileCard {
    position: relative;
    background-color: @popover-bg;
    background-image: linear-gradient(to bottom, transparent, transparent @gradient-height, @popover-bg @gradient-height, @popover-bg);

    .close {
        display: none;
    }

    .popover & {
        display: block;
        margin: -@padding-base-vertical -@padding-base-horizontal;
        padding: @padding-base-vertical @padding-base-horizontal;
        border-radius: @border-radius-base - 1;

        & .close {
            display: block;
            position: absolute;
            // top: -4px;
            // right: -11px;
            padding: 5px;
            line-height: 16px;
            color: white;

            .mac & {
                right: auto;
                left: -11px;
            }
        }
    }

    .person {
        text-align: center;
        display: block;

        img {
            display: inline-block;
            width: @node-size-lg;
            height: @node-size-lg;
            margin: @padding-small-vertical 0 0;
            border: 2px solid white;
        }

        h1 {
            white-space: nowrap;
            font-size: @font-size-h3;
            margin: @padding-base-vertical 0 0;
            line-height: 100%;
            color: @headings-color;
        }

        .jobTitle {
            font-size: 14px;
            color: @silver;
        }
    }

    .contacts {
        margin: @padding-large-vertical 0 0 ;
        padding: 0;

        li {
            list-style: none;
            // margin-right: -@padding-base-horizontal;
            position: relative;

            & + li {
                border-top: 1px solid @platinum-20;
            }

            a {
                display: block;
                padding: @padding-large-vertical @padding-large-horizontal * 2;
                position: relative;
                z-index: 2;
                // text-decoration: none;
            }

            > [class^=pnnl-icon], 
            > .PnnlIcon {
                position: absolute;
                left: 5px;
                top: 50%;
                margin-top: -@font-size-large / 2;
                color: @platinum;
                font-size: @font-size-large;
                height: @font-size-large;
                width: @font-size-large;
                line-height: 1;
            }

            &.location {
                .mailstop {
                    display: block;
                }

                img {
                    width: @node-size-md;
                    height: @node-size-md;
                    position: absolute;
                    right: @padding-base-horizontal;
                    top: 50%;
                    margin-top: -@node-size-md / 2;
                    border-radius: 50%;
                    border: 1px solid white;
                }
            }

            &.department {
                .PnnlAvatar {
                    position: absolute;
                    top: 50%;
                    left: 5px;
                    margin-top: -(@node-size-xs / 2);

                    .PnnlIcon {
                        position: static;
                        margin: 0;
                        margin-left: -1px;
                    }
                }
            }

            /***** Lync Status *****/
            &.chat {
                a:before {
                    content: "";
                    display: inline-block;
                    width: 11px;
                    height: 11px;
                    margin-right: 5px;
                    border-radius: 2px;
                }

                a.Offline,
                a.Unknown {
                    color: @platinum;

                    &:before {
                        background-color: @platinum;
                    }
                }

                a.Away,
                a.BeRightBack,
                a.IdleBusy {
                    color: @gold;

                    &:before {
                        background-color: @gold;
                    }
                }

                a.Online,
                a.IdleOnline {
                    color: @emerald;

                    &:before {
                        background-color: @emerald;
                    }
                }

                a.Busy,
                a.DoNotDisturb {
                    color: @ruby;

                    &:before {
                        background-color: @ruby;
                    }
                }
            }
        }
    }
}

/* Override rules from Boostrap popover to account for long/short names */
#PnnlProfilePopover {
    min-width: 250px;
    max-width: none;
}

.popover .PnnlProfileCard {
    .contacts {
        li {
            margin-right: -@padding-base-horizontal;
        }
    }
}
