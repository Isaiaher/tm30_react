.PnnlCard {
    background-color: white;
    box-shadow: 0px 1px 5px rgba(0,0,0,0.2);
    border: 1px solid @platinum-50;
    padding: 0;

    .PnnlCard-main,
    .PnnlCard-body {
        padding: @padding-base-vertical @padding-base-horizontal;

        footer {
            margin: 0 -@padding-base-horizontal -@padding-base-vertical;
        }
    }

    header,
    .PnnlCard-heading {
        margin: 0;
        padding: 0;
        // border-bottom: 1px solid @platinum-30;

        &, & > div {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            flex-grow: 1;
        }

        > div > * {
            padding: @padding-large-vertical @padding-base-horizontal;

            &.PnnlAction {
                padding-left: @padding-small-horizontal;
                padding-right: @padding-small-horizontal;

                &.toggle {
                    padding-left: @padding-small-horizontal - 2;
                    padding-right: @padding-small-horizontal + 2;
                }
            }
        }

        h1 {
            padding: @padding-base-vertical @padding-base-horizontal;
            font-size: @font-size-base;
            line-height: @line-height-base;
            margin: 0;
            flex-grow: 1;

            > a[aria-expanded] {
                padding: @padding-base-vertical @padding-base-horizontal;
                display: block;
                margin: -@padding-base-vertical -@padding-base-horizontal;
                color: @headings-color;
                text-decoration: none;
            }

            .arrow {
                display: inline-block;
                margin-left: @padding-small-horizontal;
                color: @platinum;
                transition: color 0.2s ease;
            }

            > a:hover .arrow {
                color: @silver-80;
            }

            .collapsed .arrow {
                transform: rotate(180deg);
            }
        }

        .PnnlAction {
            [class^=pnnl-icon-] {
                font-size: @font-size-base * 1.2;
            }

            .caret {
                top: 50%;
                margin-top: -3px;
                margin-left: @font-size-small - 4;
            }
        }
    }

    footer,
    .PnnlCard-footer {
        margin: 0;
        padding: @padding-base-vertical @padding-base-horizontal;
        border-top: 1px solid @platinum-30;
    }
}

.PnnlCard-media {
    overflow: hidden;
    min-height: 100px;
    margin: -@padding-base-vertical -@padding-base-horizontal @padding-base-vertical;
    padding: @padding-base-vertical @padding-base-horizontal;
    position: relative;
    background-size: cover;
    background-position: 50% 50%;
}

.PnnlCard-mediaTint {
    background-color: transparent !important;

    > * {
        position: relative;
        z-index: 1;
    }
}

.PnnlCard-mediaTint:before {
    content: "";
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    padding: @padding-base-vertical @padding-base-horizontal;
    opacity: 0.6;
    z-index: 0;
}

.cardTintColor(@color) {
    .PnnlCard-mediaTint.@{color}:before {
        background-color: @@color;
        /* Moving this in here so that it doesn't show up if there isn't a tint color */
        backdrop-filter: blur(2px);
    }
}

.cardTintColor(copper);
.cardTintColor(silver);
.cardTintColor(gold);
.cardTintColor(bronze);
.cardTintColor(platinum);
.cardTintColor(onyx);
.cardTintColor(emerald);
.cardTintColor(sapphire);
.cardTintColor(ruby);
.cardTintColor(amethyst);
.cardTintColor(mercury);
.cardTintColor(topaz);
.cardTintColor(garnet);
.cardTintColor(emsl-green);


.PnnlCard.collapsible {
    transition: all 0.2s ease;

    header {
        transition: all 0.2s ease;

        h1 {
            padding: @padding-base-vertical 0;
            flex-basis: 0;
            vertical-align: middle;
            align-items: center;
            line-height: 1.4;
        }
    }

    // .collapseTrigger {

    //     padding: @padding-base-vertical @padding-base-horizontal;
    //     text-decoration: none;
    //     flex-grow: 0;
    //     min-width: 40px;
    //     flex-basis: 0;
    //     vertical-align: middle;
    //     align-items: center;
    //     cursor: pointer;

    //     .arrow {
    //         display: inline-block;
    //         transition: all 0.2s ease;
    //         .transform-origin(50% 50%);

    //         &:before {
    //             font-family: pnnl-icon;
    //             font-size: @font-size-small;
    //             content: @pnnl-icon-arrow-mini-down;
    //             color: @silver;
    //         }
    //     }
    // }

    .PnnlCard-main {
        padding: 0;
    }

    .PnnlCard-content, .PnnlCard-alt {
        padding: @padding-base-vertical @padding-base-horizontal;
    }

    .PnnlCard-alt {
        display: none;
    }

    &.collapsed {
        // .collapseTrigger .arrow {
        //     transform: rotate(-90deg);
        // }

        .PnnlCard-alt {
            display: block;
        }
    }
}

a:link, a:visited {
    .PnnlCard {
        /* Remove the text-decoration underline. Elements within the card can still re-apply it */
        display: inline-block;
    }
}
 